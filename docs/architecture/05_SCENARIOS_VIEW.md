# Vista de Escenarios (+1) - Modelo 4+1

## DescripciÃ³n General

La Vista de Escenarios (el "+1" del modelo 4+1) describe los casos de uso principales del sistema. Estos escenarios validan la arquitectura y sirven como vÃ­nculo entre las otras cuatro vistas.

---

## Actores del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ACTORES                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚     <<actor>>   â”‚         â”‚     <<actor>>   â”‚         â”‚   <<actor>>   â”‚ â”‚
â”‚   â”‚                 â”‚         â”‚                 â”‚         â”‚               â”‚ â”‚
â”‚   â”‚   ğŸ“ Estudiante â”‚         â”‚   ğŸ‘¨â€ğŸ« Profesor   â”‚         â”‚ ğŸ”§ Administr. â”‚ â”‚
â”‚   â”‚   de Medicina   â”‚         â”‚   Universitario â”‚         â”‚   Sistema     â”‚ â”‚
â”‚   â”‚                 â”‚         â”‚                 â”‚         â”‚               â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚   DescripciÃ³n:                DescripciÃ³n:                DescripciÃ³n:       â”‚
â”‚   Usuario principal           Crea exÃ¡menes,              Mantiene el       â”‚
â”‚   que usa VR para             revisa progreso             sistema,          â”‚
â”‚   aprender sobre              de estudiantes,             gestiona          â”‚
â”‚   cÃ¡ncer pulmonar             valida casos                contenido         â”‚
â”‚                               de biblioteca                                  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Diagrama de Casos de Uso General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 SISTEMA PULMOMED VR                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                          â”‚                                     â”‚                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                        â”‚
â”‚   â”‚Estudianteâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚ UC1: Ejecutar         â”‚        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â”‚ SimulaciÃ³n Libre      â”‚        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚                                     â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                        â”‚
â”‚   â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚ UC2: Ejecutar Caso    â”‚        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â”‚ de Biblioteca         â”‚        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚                                     â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                        â”‚
â”‚   â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚ UC3: Consultar        â”‚        â”‚                        â”‚
â”‚   â”‚          â”‚          â”‚    â”‚ Profesor Virtual      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚          â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚              â”‚                      â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚              â”‚ <<include>>          â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚              â–¼                      â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚    â”‚ UC4: Recibir          â”‚        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚    â”‚ Feedback Educativo    â”‚        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚                                     â”‚          â”‚             â”‚
â”‚   â”‚          â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚          â”‚             â”‚
â”‚   â”‚          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚ UC5: Realizar         â”‚        â”‚          â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚    â”‚ Examen                â”‚        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”       â”‚
â”‚                          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚  Profesor  â”‚       â”‚
â”‚                          â”‚              â–²                      â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚              â”‚ <<extend>>           â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚              â”‚                      â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ UC6: Crear            â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ Examen                â”‚        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚                                     â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ UC7: Ver Resultados   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ de Estudiantes        â”‚        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚                                     â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ UC8: Gestionar Casos  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”‚            â”‚       â”‚
â”‚                          â”‚    â”‚ de Biblioteca         â”‚        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                        â”‚
â”‚                          â”‚                                     â”‚                        â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Escenario 1: SimulaciÃ³n Libre (Modo ExploraciÃ³n)

### DescripciÃ³n
El estudiante configura manualmente los parÃ¡metros de un paciente ficticio y observa la progresiÃ³n del tumor pulmonar mientras aplica diferentes tratamientos.

### Diagrama de Secuencia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Estudianteâ”‚  â”‚ Unity VR â”‚  â”‚ Math     â”‚  â”‚ Backend  â”‚  â”‚ LLM      â”‚
â”‚          â”‚  â”‚ App      â”‚  â”‚ Model    â”‚  â”‚ API      â”‚  â”‚ (Ollama) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Selecciona "Modo Libre"   â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Configura parÃ¡metros:     â”‚             â”‚             â”‚
     â”‚ â€¢ Edad: 55                â”‚             â”‚             â”‚
     â”‚ â€¢ GÃ©nero: M               â”‚             â”‚             â”‚
     â”‚ â€¢ Pack Years: 40          â”‚             â”‚             â”‚
     â”‚ â€¢ Tumor Inicial: 1.5cm    â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ Initialize  â”‚             â”‚             â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Inicia simulaciÃ³n         â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚             â”‚ â”‚        LOOP: Simulation Steps           â”‚
     â”‚             â”‚ â”‚                                         â”‚
     â”‚             â”‚ â”‚ RK4.Step(Î”t)     â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚                  â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚ New tumor state  â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚                  â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚ Update 3D model  â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚â”€â”€â”€â”€â”€â”€â”           â”‚             â”‚        â”‚
     â”‚             â”‚ â”‚â—€â”€â”€â”€â”€â”€â”˜           â”‚             â”‚        â”‚
     â”‚             â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Aplica Quimioterapia      â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ treatment.Apply(state)    â”‚             â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Consulta profesor         â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ POST /consultar_profesor  â”‚             â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ query()     â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ response    â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ TeacherResponse           â”‚             â”‚
     â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Muestra feedback          â”‚             â”‚             â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚
     â–¼             â–¼             â–¼             â–¼             â–¼
```

### Flujo de Datos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FLUJO DE DATOS - MODO LIBRE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   INPUT (Estudiante)          PROCESO                   OUTPUT               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€               â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ PatientProfile  â”‚       â”‚ TumorGrowthModelâ”‚       â”‚ 3D Visualizationâ”‚   â”‚
â”‚   â”‚                 â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚   â”‚
â”‚   â”‚ â€¢ age: 55       â”‚       â”‚ â€¢ Gompertz eq   â”‚       â”‚ â€¢ Tumor mesh    â”‚   â”‚
â”‚   â”‚ â€¢ gender: M     â”‚       â”‚ â€¢ RK4 solver    â”‚       â”‚ â€¢ Size scale    â”‚   â”‚
â”‚   â”‚ â€¢ pack_years: 40â”‚       â”‚ â€¢ Î”t = 0.1 day  â”‚       â”‚ â€¢ Color (stage) â”‚   â”‚
â”‚   â”‚ â€¢ tumor: 1.5cm  â”‚       â”‚                 â”‚       â”‚                 â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                       â”‚
â”‚                                      â–¼                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ SimulationState â”‚       â”‚ RAG Pipeline    â”‚       â”‚ TeacherResponse â”‚   â”‚
â”‚   â”‚                 â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚                 â”‚   â”‚
â”‚   â”‚ â€¢ current state â”‚       â”‚ â€¢ ChromaDB      â”‚       â”‚ â€¢ explicacion   â”‚   â”‚
â”‚   â”‚ â€¢ history       â”‚       â”‚ â€¢ Cross-encoder â”‚       â”‚ â€¢ reflexion     â”‚   â”‚
â”‚   â”‚ â€¢ treatments    â”‚       â”‚ â€¢ LLM prompt    â”‚       â”‚ â€¢ sugerencias   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Escenario 2: Caso de Biblioteca (Modo Guiado)

### DescripciÃ³n
El estudiante selecciona un caso real basado en estadÃ­sticas SEER y sigue una progresiÃ³n predefinida para comparar sus decisiones con tratamientos histÃ³ricos.

### Diagrama de Secuencia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Estudianteâ”‚  â”‚ Unity VR â”‚  â”‚ Backend  â”‚  â”‚ JSON DB  â”‚
â”‚          â”‚  â”‚ App      â”‚  â”‚ API      â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚             â”‚             â”‚             â”‚
     â”‚ Selecciona "Biblioteca"   â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ GET /library_cases        â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚ Read        â”‚
     â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚ casos[]     â”‚
     â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ List[LibraryCase]         â”‚
     â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚ Muestra lista de casos    â”‚             â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚ Selecciona caso "SEER_001"â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ GET /library_cases/SEER_001
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ LibraryCase (full)        â”‚
     â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚ Carga simulaciÃ³n con      â”‚             â”‚
     â”‚ parÃ¡metros del caso       â”‚             â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â”‚  ... [SimulaciÃ³n igual a Escenario 1] ...
     â”‚             â”‚             â”‚             â”‚
     â”‚ Compara resultado con     â”‚             â”‚
     â”‚ evoluciÃ³n histÃ³rica       â”‚             â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚
     â–¼             â–¼             â–¼             â–¼
```

### Estructura de un Caso de Biblioteca

```json
{
  "id": "SEER_001",
  "title": "Adenocarcinoma Stage II - 58yo Male",
  "description": "Caso basado en datos SEER 2018",
  "initial_state": {
    "patient": {
      "age": 58,
      "gender": "M",
      "pack_years": 35.0,
      "comorbidities": ["COPD"]
    },
    "tumor": {
      "diameter_cm": 2.8,
      "stage": "II",
      "histology": "adenocarcinoma"
    }
  },
  "expected_evolution": {
    "day_30": {"diameter_cm": 3.2, "stage": "II"},
    "day_90": {"diameter_cm": 4.1, "stage": "IIIA"},
    "day_180": {"diameter_cm": 5.5, "stage": "IIIB"}
  },
  "recommended_treatments": [
    {"day": 1, "type": "surgery", "notes": "Lobectomy"},
    {"day": 30, "type": "chemotherapy", "notes": "Adjuvant"}
  ],
  "outcome": {
    "survival_months": 48,
    "recurrence": true,
    "recurrence_day": 365
  }
}
```

---

## Escenario 3: Examen (Modo EvaluaciÃ³n)

### DescripciÃ³n
El profesor crea un examen con casos especÃ­ficos y criterios de evaluaciÃ³n. El estudiante completa el examen con tiempo limitado y el sistema genera una calificaciÃ³n.

### Diagrama de Actividades

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FLUJO DE EXAMEN                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   PROFESOR                                   ESTUDIANTE                      â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚   â”‚ Crear Examenâ”‚                                                           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚   â”‚ Seleccionar casos   â”‚                                                   â”‚
â”‚   â”‚ de biblioteca       â”‚                                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚   â”‚ Definir criterios:  â”‚                                                   â”‚
â”‚   â”‚ â€¢ Tiempo lÃ­mite     â”‚                                                   â”‚
â”‚   â”‚ â€¢ % aciertos req.   â”‚                                                   â”‚
â”‚   â”‚ â€¢ Casos a completar â”‚                                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Publicar Examen     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Iniciar Examen      â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                     â”‚                       â”‚
â”‚                                                     â–¼                       â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                              â”‚ Cargar caso #1      â”‚        â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                     â”‚                       â”‚
â”‚                                                     â–¼                       â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                              â”‚ Ejecutar simulaciÃ³n â”‚        â”‚
â”‚                                              â”‚ + decisiones        â”‚        â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                     â”‚                       â”‚
â”‚                                                     â–¼                       â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                                              â”‚ Consultar profesor  â”‚        â”‚
â”‚                                              â”‚ (feedback limitado) â”‚        â”‚
â”‚                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                     â”‚                       â”‚
â”‚                                                     â–¼                       â”‚
â”‚                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                                              â”‚ Â¿MÃ¡s casos?    â”‚             â”‚
â”‚                                              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜             â”‚
â”‚                                                  â”‚ SÃ­     â”‚ No              â”‚
â”‚                                                  â”‚        â”‚                 â”‚
â”‚                                           â”Œâ”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”            â”‚
â”‚                                           â”‚                    â”‚            â”‚
â”‚                                           â–¼                    â–¼            â”‚
â”‚                                    [Siguiente caso]    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                        â”‚ Enviar       â”‚     â”‚
â”‚                                                        â”‚ resultados   â”‚     â”‚
â”‚                                                        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                               â”‚             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚             â”‚
â”‚   â”‚ Revisar resultados  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚   â”‚ Calificar y dar     â”‚                                                   â”‚
â”‚   â”‚ retroalimentaciÃ³n   â”‚                                                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Escenario 4: Consulta al Profesor Virtual

### DescripciÃ³n
En cualquier momento de la simulaciÃ³n, el estudiante puede pausar y consultar al profesor virtual para recibir feedback educativo contextualizado.

### Diagrama de Secuencia Detallado

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Estudianteâ”‚  â”‚ Unity UI â”‚  â”‚ HTTP     â”‚  â”‚ Teacher  â”‚  â”‚ ChromaDB â”‚  â”‚ Ollama   â”‚
â”‚          â”‚  â”‚          â”‚  â”‚ Client   â”‚  â”‚ Service  â”‚  â”‚          â”‚  â”‚ LLM      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Tap "Preguntar al Profesor"            â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ Show loading animation    â”‚             â”‚             â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ Serialize current state   â”‚             â”‚             â”‚
     â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚ POST /consultar_profesor  â”‚             â”‚
     â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ Build query â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ find_similar(query)       â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚ Vector      â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚ similarity  â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ documents[] â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ rerank(documents)         â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ build_prompt(state, docs) â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ llm.query(prompt)         â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚    Generate â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚    (~5 sec) â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ response_text             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚ parse_response()          â”‚
     â”‚             â”‚             â”‚             â”‚â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚ TeacherResponse           â”‚             â”‚
     â”‚             â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚ Display feedback          â”‚             â”‚             â”‚
     â”‚             â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ Reads feedback in VR      â”‚             â”‚             â”‚             â”‚
     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚ [Opcional] Hace pregunta de seguimiento â”‚             â”‚             â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚             â”‚             â”‚             â”‚             â”‚
     â”‚             â”‚             â”‚             â”‚             â”‚             â”‚
     â–¼             â–¼             â–¼             â–¼             â–¼             â–¼
```

---

## Matriz de Trazabilidad

### Casos de Uso â†’ Componentes

| Caso de Uso | Unity | Backend API | Teacher Service | RAG | Math Model | ChromaDB |
|-------------|-------|-------------|-----------------|-----|------------|----------|
| UC1: SimulaciÃ³n Libre | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| UC2: Caso Biblioteca | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| UC3: Consultar Profesor | âœ… | âœ… | âœ… | âœ… | âŒ | âœ… |
| UC4: Feedback Educativo | âœ… | âœ… | âœ… | âœ… | âŒ | âœ… |
| UC5: Realizar Examen | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| UC6: Crear Examen | ğŸ”œ | ğŸ”œ | âŒ | âŒ | âŒ | âŒ |
| UC7: Ver Resultados | ğŸ”œ | ğŸ”œ | âŒ | âŒ | âŒ | âŒ |
| UC8: Gestionar Casos | ğŸ”œ | âœ… | âŒ | âŒ | âŒ | âŒ |

**Leyenda:**
- âœ… Implementado
- ğŸ”œ Planificado
- âŒ No aplica

---

## Requisitos No Funcionales por Escenario

| Escenario | Latencia MÃ¡x. | Disponibilidad | Concurrencia |
|-----------|---------------|----------------|--------------|
| SimulaciÃ³n (local) | 16ms (60 FPS) | N/A | 1 |
| Consulta Profesor | 10 seg | 99% | 20 |
| Listar Casos | 500ms | 99% | 50 |
| Crear Examen | 2 seg | 95% | 5 |

---

## Herramientas Recomendadas

- **PlantUML** para diagramas de casos de uso
- **Draw.io** con actores UML
- **Lucidchart** para diagramas de secuencia profesionales
